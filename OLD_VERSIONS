версии:
0.1.2 - закрыты дыры (функции IsItMyChar, MoveCharToAccount не тронуты).(нету обработки ошибок, но в целом класс безопасен при условии безопасности функций IsItMyChar и MoveCharToAccount)
0.1.3 - исправлено пару багов (неначисление баланса, ставка меньше минимальной), добавлена возможность срубать на трансферах, обновлен пример.
0.1.4 - в класс Balance добавлены методы Spend и Replenish (хз как правильнее пополнение назвать), исправлен баг метода CancelMyAuction, добавлен класс UserInterface - на будущее. (все еще думается над классом ошибок)
0.1.5 - Добавлен класс Errors и с помощью него реализовано отображение ошибок. Добавлены методы CreateCustomAuctionLink и CreateCustomAuctionCol класса UserInterface, позволяющие добавлять произвольные столбцы в список лотов. Исправлена какая-то ошибка.
0.1.6 - Реализован интерфейс, исправлена ужасная ошибка в sql(создание таблиц), связанная с НЕВОЗМОЖНОСТЬЮ нормальной работы скрипта... Исправлены маты ПХП при пустой базе аукционов. яваскрипт перенесен в пример. Ну и для ленивый: исправлена ссылка на армори. PS: не забываем вызывать CheckExpired().
0.1.7 - настройки выкинуты в config.php. Добавлен класс Log и частично реализовано логгирование (настройка папки, куда сливаются логи в файле настроек) - не забывает создать это папку и дать права на запись. Пользовательские функции (т.е. то, что зависит от сервера и желания настроить) вынесены в класс UserClass. Добавлена ForceStop(guid) - владелец может остановить аукцион(и если были ставки то продать, если не было, то вернуть себе). Немного переделана проверка даты $expired. Добавлены LockChar в класс аукциона(чтобы проверить принадлежность перса акку) который вызывает LockChar класса UserClass(который блокирует персонажа). Добавлена AuctionExists(guid).
0.1.8 - Добавлена Iinit() вкласс баланса - инициализация балланса. Добавлена UnlockChar в UserClass. Запрет ставки/выкупа своих лотов. Добавлена IsItMyAuction(). Исправлена возможность перебивать ставки с той же суммой. Исправлены маты при выкупе. Удалено дублирование LockChar - теперь только в UserClass. PS: ставки вроде делаются, лоты вроде выкупаются. Хватит нового, надо ловить жуков...
0.1.9 - добавил транзакции и проверку на количество персонажей на акке (обновились все файлы).
